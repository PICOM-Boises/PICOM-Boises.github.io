<!doctype html>
<html lang="fr"> 
<head> 
	<meta charset="utf-8">
	<title>Projet PICOM boisés UQTR</title> 
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
	 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<script src="Test2.geojson"></script>
</head>
<body>
	<h1>Projet PICOM boisés UQTR</h1>
	<p>Un petit texte avant la carte</p>
	<div id="map" style="height:600px" ></div>
	<p>Et un autre petit bout de texte après</p>
	
	<script>
		
		function getColor(d) {
		    return d > 4 ? '#800026' :
		           d > 3  ? '#E31A1C' :
		           d > 2   ? '#FD8D3C' :
		           d > 1   ? '#FED976' :
		                      '#FFEDA0';
		}
				
		var map = L.map('map').setView([46.345, -72.585], 16);
		
		const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
				maxZoom: 19,
				attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
			}).addTo(map);		
		
		indices_cles = ["Indice1","Indice2"];
		indices_noms = ["Indice 1","Indice 2"];

		var couches = []
		for (i=0;i<indices_cles.length; i++ ) {
			
			cle = indices_cles[i];
			
			couche = L.geoJSON(layers_picom, {
    		style: function (feature) {
				return {
					fillColor: getColor(feature.properties[cle]),
					color: getColor(feature.properties[cle]),
					fillOpacity: 0.7
				};
			}}).addTo(map);
			
//			couches.push({indices_noms[i]:couche})
			
			
			couches.push({cle:indices_noms[i]})
						
		}
		
		/*
		var couches = {
					    "Indice 1": indice1,
						"Indice 2": indice2
					};
		*/		
//		var layerControl = L.control.layers(couches).addTo(map);		
		
	</script>
</body>
</html>